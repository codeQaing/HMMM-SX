(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f22d4aa","chunk-50a80245"],{"0414":function(t,e,a){"use strict";var s=a("64fc"),r=a.n(s);r.a},"24c5":function(t,e,a){"use strict";var s=a("53fc"),r=a.n(s);r.a},"53fc":function(t,e,a){},"64fc":function(t,e,a){},"7b35":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"articles-container"},[a("el-card",[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form",{attrs:{"label-width":"80px",size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticStyle:{},model:{value:t.requestParams.keyword,callback:function(e){t.$set(t.requestParams,"keyword",e)},expression:"requestParams.keyword"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:t.requestParams.state,callback:function(e){t.$set(t.requestParams,"state",e)},expression:"requestParams.state"}},[a("el-option",{attrs:{value:1,label:"启用"}}),a("el-option",{attrs:{value:0,label:"禁用"}})],1)],1),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:function(e){return t.clear()}}},[t._v("清除")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.filter()}}},[t._v("搜索")])],1)],1)],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-edit",type:"success",size:"small"},on:{click:function(e){return t.openDialog()}}},[t._v("新增技巧")])],1)],1),a("el-alert",{staticClass:"alert",staticStyle:{"margin-bottom":"15px"},attrs:{title:"数据一共 "+t.total+" 条",type:"info",closable:!1,"show-icon":""}}),a("el-table",{attrs:{data:t.articles}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"80px"}}),a("el-table-column",{attrs:{label:"文章标题",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.title)+" "),e.row.videoURL?a("a",{staticClass:"el-icon-film",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.openVideo(e.row.videoURL)}}}):t._e()]}}])}),a("el-table-column",{attrs:{label:"阅读数",prop:"visits"}}),a("el-table-column",{attrs:{label:"录入人",prop:"username"}}),a("el-table-column",{attrs:{label:"录入时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("parseTimeByString")(e.row.createTime)))]}}])}),a("el-table-column",{attrs:{label:"状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1===e.row.state?"已启用":"已禁用"))]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.previewArticle(e.row)}}},[t._v("预览")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.toggleState(e.row)}}},[t._v(t._s(1===e.row.state?"禁用":"启用"))]),a("el-button",{attrs:{type:"text",disabled:1===e.row.state},on:{click:function(a){return t.openDialog(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",disabled:1===e.row.state||e.row.totals>0},on:{click:function(a){return t.delArticle(e.row)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{background:"",layout:"prev, pager, next, sizes, jumper",total:t.total,"page-size":t.requestParams.pagesize,"current-page":t.requestParams.page,"page-sizes":[5,10,20,50],"hide-on-single-page":""},on:{"current-change":t.pager,"size-change":t.handleSizeChange}})],1),a("articles-add",{ref:"articlesAdd",attrs:{data:t.currArticle},on:{updateList:function(e){return t.updateList()}}}),a("articles-preview",{ref:"articlesPreview",attrs:{data:t.currArticle}}),t.videoURL?a("div",{staticClass:"video-preview"},[a("div",{staticClass:"close",on:{click:function(e){return t.closeVideo()}}},[a("span",{staticClass:"el-icon-close"})]),a("div",{staticClass:"box"},[a("video",{ref:"video",attrs:{src:t.videoURL}})])]):t._e()],1)},r=[],i=(a("96cf"),a("1da1")),n=a("b3af"),l=a("c524"),c=a("8561"),o={name:"ArticlesList",components:{ArticlesAdd:l["default"],ArticlesPreview:c["default"]},data:function(){return{requestParams:{keyword:null,state:null,page:1,pagesize:10},total:0,articles:[],currArticle:{},videoURL:null}},created:function(){this.getList()},methods:{openVideo:function(t){var e=this;this.videoURL=t,this.$nextTick((function(){e.$refs.video.play()}))},closeVideo:function(){this.$refs.video.pause(),this.videoURL=null},previewArticle:function(t){var e=this;this.currArticle=t,this.$nextTick((function(){e.$refs.articlesPreview.open()}))},openDialog:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currArticle=e,this.$nextTick((function(){t.$refs.articlesAdd.open()}))},toggleState:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(n["b"])({id:t.id,state:1===t.state?0:1});case 2:e.$message.success("操作成功"),t.state=1===t.state?0:1;case 4:case"end":return a.stop()}}),a)})))()},delArticle:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return a.next=4,Object(n["d"])(t);case 4:e.$message.success("删除成功"),e.getList();case 6:case"end":return a.stop()}}),a)})))()},clear:function(){this.requestParams={keyword:null,state:null,page:1,pagesize:10}},filter:function(){this.requestParams.page=1,this.getList()},getList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["c"])(t.requestParams);case 2:a=e.sent,s=a.data,t.articles=s.items,t.total=s.counts;case 6:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.requestParams.page=1,this.requestParams.pagesize=t,this.getList()},pager:function(t){this.requestParams.page=t,this.getList()},updateList:function(){this.currArticle.id||(this.requestParams.page=1),this.getList()}}},u=o,d=(a("24c5"),a("2877")),p=Object(d["a"])(u,s,r,!1,null,"23eac598",null);e["default"]=p.exports},8561:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"articles-add"},[a("el-dialog",{attrs:{title:"预览文章",visible:t.show,width:"800px"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"title"},[a("h2",[t._v(t._s(t.data.title))]),a("div",[a("span",[t._v(t._s(t._f("parseTimeByString")(t.data.createTime)))]),a("span",[t._v(t._s(t.data.username))]),a("span",{staticClass:"el-icon-view"}),a("span",[t._v(t._s(t.data.visits))])])]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.data.articleBody)}})])],1)},r=[],i={name:"ArticlesPreview",props:{data:{default:function(){},type:Object}},data:function(){return{show:!1}},methods:{open:function(){this.show=!0}}},n=i,l=(a("0414"),a("2877")),c=Object(l["a"])(n,s,r,!1,null,"1d9d7fdc",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1f22d4aa.3a327b64.js.map